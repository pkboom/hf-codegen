import subprocess
from time import sleep

with subprocess.Popen(["python", "timer.py", "5"], stdout=subprocess.PIPE) as process:

    def poll_and_read():
        print(f"Output from poll: {process.poll()}")
        print(f"Output from stdout: {process.stdout.read1().decode('utf-8')}")

    poll_and_read()
    sleep(3)
    poll_and_read()
    sleep(3)
    poll_and_read()

print("hit")
